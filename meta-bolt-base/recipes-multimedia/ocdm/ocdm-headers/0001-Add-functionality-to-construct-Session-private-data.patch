From 893b7bd7ed6172b8db6456bcb1cef6e726ef1178 Mon Sep 17 00:00:00 2001
From: kkanag314 <krishnapriya_kanagaraj@comcast.com>
Date: Thu, 21 Mar 2024 13:30:36 +0000
Subject: [PATCH] Add functionality to construct Session private data

---
 Source/ocdm/adapter/open_cdm_adapter.h |  25 +++++

diff --git a/Source/ocdm/adapter/open_cdm_adapter.h b/Source/ocdm/adapter/open_cdm_adapter.h
index e48858d..13adc55 100644
--- a/Source/ocdm/adapter/open_cdm_adapter.h
+++ b/Source/ocdm/adapter/open_cdm_adapter.h
@@ -32,6 +32,31 @@ typedef struct _GstCaps GstCaps;
 extern "C" {
 #endif
 
+/**
+ * \brief Creates private data required for decryption.
+ *
+ * This method allows for creation of private data that is associated with the session. The private data itself is
+ * opaque to OpenCDMSession and it lives until the lifetime of the \ref OpenCDMSession.
+ *
+ * \param session \ref OpenCDMSession instance.
+ * \param pvtData Output parameter that will contain the Opaque private data created
+ *
+ * \return Zero on success, non-zero on error.
+ */
+EXTERNAL uint32_t opencdm_construct_session_private(struct OpenCDMSession* session, void* &pvtData);
+
+/**
+ * \brief Destroys private data associated with the Session.
+ *
+ * This method destroys the private data that is associated with the session.
+ *
+ * \param session \ref OpenCDMSession instance.
+ * \param pvtData Input parameter pointer to private data.
+ *
+ * \return Zero on success, non-zero on error.
+ */
+EXTERNAL uint32_t opencdm_destruct_session_private(struct OpenCDMSession* session, void* &pvtData);
+
 /**
  * \brief Performs decryption based on adapter implementation.
  *
